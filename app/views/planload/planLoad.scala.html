@import auth.DstlProfile
@(param: String)(implicit webJarAssets: WebJarAssets,isLoggedIn: Boolean, userInfo: DstlProfile)
@main(param){
    <link rel="stylesheet" media="screen" href="@routes.Assets.versioned("stylesheets/planLoad.css")">
    <script src="@routes.Assets.versioned("javascripts/kendo.timezones.min.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("javascripts/planLoadUtils.js")" type="text/javascript"></script>

    <span id="notification"></span>

    <div  id="planLoadSplitter">
        <div id="headertoolbar">
            <div class="nav " style="height:50px; width: 100%;">
                <div class="row">
                    <div id="toolBarPlanLoad" class="col-lg-12 col-md-12 col-sm-12">
                        <label id="labelDayPlanLoad" for="planLoadDay" class="pull-left">Дата плана: </label>
                        <section >
                            <input id="planLoadDay"  type="date">
                                <button id="bSavePlanLoad" class="k-button k-state-default red-tooltip red-tooltip"
                                    data-toggle="tooltip" data-placement="bottom"
                                title="Сохранить план"><i class="fa fa-lg fa-floppy-o" aria-hidden="true"></i></button>
                                <button id="bCancelPlanLoad" class="k-button k-state-default red-tooltip"
                                data-toggle="tooltip" data-placement="bottom"
                                title="Отменить изменения"><i class="fa fa-lg fa-times" aria-hidden="true"></i></button>

                            <button id="bExportPlanLoad" class="k-button k-state-default red-tooltip"
                            data-toggle="tooltip" data-placement="bottom"
                            title="Экспортировать план погрузки(Еxcel)">
                                <i class="fa fa-lg fa-download fa-rotate-270" aria-hidden="true"></i></button>

                            <span></span>
                            <label id="labelPlanLoadDoklever" for="planLoadDoklever" class="pull-left">Доклевеллер: </label>
                            <input id="planLoadDoklever"  >
                            <label id="labelDayPlanWorkType" for="planLoadWorkType" class="pull-left">Перерывы: </label>
                            <input id="planLoadWorkType"  >

                            <button id="bAddElementPlanLoad" class="k-button k-state-default red-tooltip"
                            data-toggle="tooltip" data-placement="bottom"
                            title="Добавить произвольный элемент в план"><i class="fa fa-lg fa-plus" aria-hidden="true"></i></button>
                            <button id="bDeleteElementFromPlanLoad" class="k-button k-state-default red-tooltip"
                            data-toggle="tooltip" data-placement="bottom"
                            title="Удалить заказ из плана"><i class="fa fa-lg fa-times" aria-hidden="true"></i></button>

                        </section>

                    </div>

                </div>

            </div>
        </div>
        <div >
            <div id="graphViewSplitter" >
               <div id="planLoadGrid">
                  <div id="planShipmentGridView"></div>
               </div>
               <div id="graphLoad"></div>

            </div>
        </div>

        <div>
            <div  id="factLoadGridView"></div>

        </div>




    </div>

  <script>
          $(document).ready(function () {
              /* ----------------------------------------------------------------------------*/
              moment.locale('ru');
              var datePlan, wnd,
                      detailsTemplate;

              $("#planLoadSplitter").kendoSplitter({
                  orientation: "vertical",
                  panes: [
                      /*  {collapsible: false},*/
                      {collapsible: false, size: "50px",  resizable: false },
                      {collapsible: false, size: "80%"},
                      {collapsible: true, resizable: true, size: "20%"}
                  ],

              });
              $("#graphViewSplitter").kendoSplitter({
                  panes: [
                      /*  {collapsible: false},*/
                      {collapsible: true, size: "20%"},
                      {collapsible: true, resizable: true, size: "80%"}
                  ],

              });


              // create DatePicker from input HTML element
              kendo.culture("ru-RU");

              var scheduler = $("#graphLoad").kendoScheduler({
                  date: new Date("2013/6/6"), // The current date of the scheduler
                  dataSource: [ // The kendo.data.SchedulerDataSource configuration
                      // First scheduler event
                      {
                          id: 1, // Unique identifier. Needed for editing.
                          start: new Date("2013/6/6 08:00 AM"), // Start of the event
                          end: new Date("2013/6/6 09:00 AM"), // End of the event
                          title: "Breakfast" // Title of the event
                      },
                      // Second scheduler event
                      {
                          id: 2,
                          start: new Date("2013/6/6 10:15 AM"),
                          end: new Date("2013/6/6 12:30 PM"),
                          title: "Job Interview"
                      }
                  ],
                  eventHeight: 10,
                  majorTick: 30,
                  views: [
                      "timeline",
                      /*"timelineWeek",
                      "timelineWorkWeek",
                      {
                          type: "timelineMonth",
                          startTime: new Date("2013/6/13 00:00 AM"),
                          majorTick: 1440
                      }*/
                  ],
                  timezone: "Europe/Moscow",
                  edit: function(e) {
                      var buttonsContainer = e.container.find(".k-edit-buttons");
                      var cancelButton = buttonsContainer.find(".k-scheduler-cancel");
                      cancelButton.text("Delete");
                  }
              }).data("");


          });
          planLoadUtils.factLoadGridView();
          planLoadUtils.planShipmentGridView();
  </script>

}